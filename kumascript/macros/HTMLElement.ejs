<%
/*
  Inserts a link to an HTML element documentation
  Appropriate styling is applied.

  Parameters:
  $0 - Element name
  $1 - Text to display (optional)
  $2 - Anchor within the page (optional)
*/
const elementName = $0.toString().toLowerCase();
const disableFlawChecks = $3 || false;
let linkText = ($1 || elementName);
switch (env.locale) {
    case 'ja':
        if (elementName === linkText && elementName.indexOf(" 要素") !== -1){
            elementName = linkText.replace(" 要素","");
        }
        break;
    default: break;
}

const sectionName = "Element"
const baseURL = `/${env.locale}/docs/Web/HTML`;
const urlPath = `/${sectionName}/${elementName}`
let url = `${baseURL}${urlPath}`;

// Add anchor after fetching the page contents
url += $2;

if (linkText === elementName && elementName.indexOf(" ") === -1) {
    linkText = "<code>&lt;" + linkText + "&gt;</code>";
}

const link = web.smartLink(url, null, linkText, sectionName + '/' + elementName, baseURL, disableFlawChecks);
%><%- link %>
